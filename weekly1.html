<!DOCTYPE HTML>
<html>
<head>
  <title>Weekly Challenges</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
  <noscript><link rel="stylesheet" href="{{ url_for('static', filename='css/noscript.css') }}" /></noscript>
  <link rel="icon" href="{{ url_for('static', filename='images/favicon.png') }}">

  <style>
    /* Divider between challenges */
    #weekly-challenges .content details {
      border-bottom: 1px solid #ccc;
      padding: 0.75em 0;
    }
    #weekly-challenges .content details:last-child {
      border-bottom: none;
    }

    /* Placeholder for injected content */
    .lazy-content { }

    /* Side-by-side media */
    .media-pair {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 10px;
      align-items: flex-start;
    }
    .media-pair .video-container,
    .media-pair .image-container {
      flex: 1 1 300px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .media-pair {
        flex-direction: column;
      }
      .media-pair .video-container,
      .media-pair .image-container {
        width: 100%;
        flex: none;
      }
    }
  </style>
</head>
<body class="is-preload">

  <div id="wrapper">
    <div id="main">
      <section id="weekly-challenges" class="main special">
        <header class="major">
          <h2>Weekly Challenges</h2>
          <p>Click any challenge below to load its content on demand.</p>
        </header>
        <div class="content">

          <!-- Week 21 -->
          <details class="lazy-week"
                   data-desc="A long and winding path with boost pads."
                   data-video="{{ url_for('static', filename='parkour/videos/week21.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/wedgeoptics.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #21</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 20 -->
          <details class="lazy-week"
                   data-desc="Steel beams and boulders."
                   data-video="{{ url_for('static', filename='parkour/videos/week20.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/polkapattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #20</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 19 -->
          <details class="lazy-week"
                   data-desc="Reverse wall carves and ice sliding."
                   data-video="{{ url_for('static', filename='parkour/videos/week19.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/butterpattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #19</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 18 -->
          <details class="lazy-week"
                   data-desc="Ceiling carves and skinny planks."
                   data-video="{{ url_for('static', filename='parkour/videos/week18.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/squintoptics.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #18</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 17 -->
          <details class="lazy-week"
                   data-desc="Ceiling carving, wall carving, and floor carving at high speeds."
                   data-video="{{ url_for('static', filename='parkour/videos/week17.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/circuitpattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #17</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 16 -->
          <details class="lazy-week"
                   data-desc="Snake carves upwards and downwards."
                   data-video="{{ url_for('static', filename='parkour/videos/week16.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/angryoptics.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #16</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 15 -->
          <details class="lazy-week"
                   data-desc="Climbing, wall running, and optional tassy's & reverse tassy's."
                   data-video="{{ url_for('static', filename='parkour/videos/week15.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/flamepattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #15</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 14 -->
          <details class="lazy-week"
                   data-desc="Loop carves—enough said."
                   data-video="{{ url_for('static', filename='parkour/videos/week14.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/rushpattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #14</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 13 -->
          <details class="lazy-week"
                   data-desc="A combination of pinch carves, ceiling carves, long jumps, and a zero-g ceiling carve."
                   data-video="{{ url_for('static', filename='parkour/videos/week13.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/sleepyoptics.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #13</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 12 -->
          <details class="lazy-week"
                   data-desc="Dodge obstacles at high speeds in order to hit a final high jump."
                   data-video="{{ url_for('static', filename='parkour/videos/week12.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/hushpattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #12</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 11 -->
          <details class="lazy-week"
                   data-desc="Optional tassy, then wall carves into ceiling carves."
                   data-video="{{ url_for('static', filename='parkour/videos/week11.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/karatoptics.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #11</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 10 -->
          <details class="lazy-week"
                   data-desc="Cube jumps—very easy."
                   data-video="{{ url_for('static', filename='parkour/videos/week10.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/camopattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #10</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 9 -->
          <details class="lazy-week"
                   data-desc="High vertical climb and a big boulder."
                   data-video="{{ url_for('static', filename='parkour/videos/week9.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/tigerpattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #9</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 8 -->
          <details class="lazy-week"
                   data-desc="Corner carves and a long jump."
                   data-video="{{ url_for('static', filename='parkour/videos/week8.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/sparklepattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #8</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 7 -->
          <details class="lazy-week"
                   data-desc="Pinch carving with hidden coins."
                   data-video="{{ url_for('static', filename='parkour/videos/week7.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/lightningpattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #7</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 6 -->
          <details class="lazy-week"
                   data-desc="Zero gravity carving."
                   data-video="{{ url_for('static', filename='parkour/videos/week6.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/flamepattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #6</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 5 -->
          <details class="lazy-week"
                   data-desc="Wall carves, downward wall carves, and long jumps."
                   data-video="{{ url_for('static', filename='parkour/videos/week5.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/camopattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #5</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 4 -->
          <details class="lazy-week"
                   data-desc="Jump through tiny gaps and holes."
                   data-video="{{ url_for('static', filename='parkour/videos/week4.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/tigerpattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #4</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 3 -->
          <details class="lazy-week"
                   data-desc="Floor carves, snake carves, wall carves, and ceiling carves."
                   data-video="{{ url_for('static', filename='parkour/videos/week3.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/flamepattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #3</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 2 -->
          <details class="lazy-week"
                   data-desc="With many interesting sections, this is a long challenge that uses many mechanics."
                   data-video="{{ url_for('static', filename='parkour/videos/week2.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/camopattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #2</summary>
            <div class="lazy-content"></div>
          </details>

          <!-- Week 1 -->
          <details class="lazy-week"
                   data-desc="Two wall carves and a jump—pretty simple."
                   data-video="{{ url_for('static', filename='parkour/videos/week1.mp4') }}"
                   data-img="{{ url_for('static', filename='parkour/images/tigerpattern.png') }}"
                   data-credit="Video credit: MrStick62">
            <summary>Weekly Challenge #1</summary>
            <div class="lazy-content"></div>
          </details>

        </div>
      </section>
    </div>

    <footer id="footer">
      <section>
        <h2>Return Home</h2>
        <ul class="actions">
          <li><a href="{{ url_for('root.parkour_page') }}" class="button">Return Home</a></li>
        </ul>
      </section>
    </footer>
  </div>

  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  <script>
    document.querySelectorAll('details.lazy-week').forEach(detail => {
      detail.addEventListener('toggle', () => {
        if (!detail.open || detail.dataset.loaded === 'true') return;
        detail.dataset.loaded = 'true';

        const { desc, video, img, credit } = detail.dataset;
        const container = detail.querySelector('.lazy-content');

        // 1️⃣ Description
        const p = document.createElement('p');
        p.textContent = desc;
        container.appendChild(p);

        // 2️⃣ Media pair
        const mediaPair = document.createElement('div');
        mediaPair.className = 'media-pair';

        const vc = document.createElement('div');
        vc.className = 'video-container';
        const vid = document.createElement('video');
        vid.src = video;
        vid.controls = true;
        vc.appendChild(vid);

        const ic = document.createElement('div');
        ic.className = 'image-container';
        const imgel = document.createElement('img');
        imgel.src = img;
        ic.appendChild(imgel);

        mediaPair.append(vc, ic);
        container.appendChild(mediaPair);

        // 3️⃣ Credit line
        const credP = document.createElement('p');
        credP.className = 'video-credit';
        credP.textContent = credit;
        container.appendChild(credP);

        // 4️⃣ Sync image height if available
        if (window.syncImageToVideo) syncImageToVideo(mediaPair);
      });
    });
  </script>
</body>
</html>
